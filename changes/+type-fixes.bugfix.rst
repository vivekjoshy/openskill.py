Fixed mypy strict mode errors in ``batch.py`` and ``ladder.py`` (optional type narrowing, executor types, array generics, missing annotations).
